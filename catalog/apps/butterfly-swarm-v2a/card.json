{
  "name": "Butterfly_Swarm_V2a",
  "author": "Gert-Jan Akerboom",
  "description": "Spawns a swarm of 100 butterfly clones from a GLB model, animates wing flapping via sinusoidal rotation, and drifts each butterfly along randomized 3D paths with per-instance scale, speed, and position offsets updated every frame.",
  "tags": [
    "animation",
    "3d-model",
    "environment"
  ],
  "interaction_modes": [
    "passive"
  ],
  "asset_profile": "medium",
  "script_complexity": "medium",
  "networking": "none",
  "preview_url": "media/butterfly-swarm-v2a/p0_5000.png",
  "download_path": "https://raw.githubusercontent.com/hyperfy-xyz/hyperfy-apps/main/hyp-files/Butterfly_Swarm_V2a.hyp",
  "created_at": "2025-03-14T15:31:38.098Z",
  "script_excerpt": "export default function main(world, app, fetch, props, setTimeout) {\n// Get the original wings\nconst wingROriginal = app.get('wingR');\nconst wingLOriginal = app.get('wingL');\n\nif (!wingROriginal || !wingLOriginal) {\n  console.error('Could not find wingR or wingL');\n  return;\n}\n\n// Remove the original wings from the scene\napp.remove(wingROriginal);\napp.remove(wingLOriginal);\n\n// Function to create a new butterfly with random movement\nfunction createButterfly() {\n  const wingRClone = wingROriginal.clone(true); // Clone right wing\n  const wingLClone = wingLOriginal.clone(true); // Clone left wing\n\n  if (!wingRClone || !wingLClone) {\n    console.error('Could not clone wingR or wingL');\n    return null;\n  }\n\n  // Generate random properties for each butterfly\n  const scale = num(0.1, 0.5, 2); // Scale between 0.5x and 1.5x\n  const startX = num(-10, 10, 2); // Start position on X\n  const startY = num(3, 8, 2); // Start position on Y\n  const startZ = num(-10, 10, 2); // Start position on Z\n  const flapSpeed = num(1, 5, 2); // **Slow down flapping (was 6-12)**\n  const maxFlap = (10 * Math.PI) / 180; // **Reduce max flap range (was 60\u00b0)**\n  const moveSpeed = num(0.2, 0.6, 2); // Speed of movement\n  const moveRange = num(1, 3, 2); // How far they move\n  const driftSpeed = num(0.1, 0.5, 2); // Drifting effect\n  const driftRange = num(0.5, 2, 2); // Drifting range\n  \n\n  // Create a butterfly object to store movement & rotation\n  const butterfly = {\n    position: { x: startX, y: startY, z: startZ },\n    scale: scale,\n    wings: { wingR: wingRClone, wingL: wingLClone },\n    timeElapsed: num(0, Math.PI * 2), // Randomize start time\n  };\n\n  // Set scale\n  wingRClone.scale.set(scale, scale, scale);\n  wingLClone.scale.set(scale, scale, scale);\n\n  // Attach wings to the butterfly and apply initial position\n  wingRClone.position.set(butterfly.position.x, butterfly.position.y, butterfly.position.z);\n  wingLClone.position.set(butterfly.position.x, butterfly.position.y, butterfly.position.",
  "asset_files": [
    "butterfly-swarm-v2a.glb",
    "butterfly-swarm-v2a__image.jpg"
  ]
}