{
  "name": "HyperPortal_with_Set",
  "author": "0mka",
  "description": "Portal trigger zone that teleports players to an admin-configurable destination. Admins click a 'Set' button in the inspect UI to store their current position on the server, and any player entering the portal collider is teleported to that saved location.",
  "tags": [
    "teleport",
    "interaction",
    "ui",
    "3d-model"
  ],
  "interaction_modes": [
    "passive",
    "networked"
  ],
  "asset_profile": "light",
  "script_complexity": "medium",
  "networking": "events",
  "preview_url": "generated_previews/hyperportal-with-set-1349789440293474304.png",
  "download_path": "https://raw.githubusercontent.com/madjin/hyperfy-apps/main/v2-hyp/HyperPortal_with_Set.hyp",
  "created_at": "2025-03-13T17:01:20.441Z",
  "props": {
    "zone1": "1,0,0"
  },
  "script_excerpt": "export default function main(world, app, fetch, props, setTimeout) {\napp.configure([\n\t{\n\t\tkey: 'btns',\n\t\ttype: 'buttons',\n\t\tlabel: 'Position',\n\t\tbuttons: [\n\t\t\t{ \n\t\t\t\tlabel: 'Set', \n\t\t\t\tonClick: () => {\n\t\t\t\t\tconst position = world.getPlayer().position.toArray()\n\t\t\t\t\tapp.send('position', position)\n\t\t\t\t}\n\t\t\t}\n\t\t]\n\t}\n])\n\nif (world.isServer) {\n\tconst key = `${app.instanceId}:position`\n\tlet position = world.get(key)\n\tapp.on('position', (arr, playerId) => {\n\t\tconst player = world.getPlayer(playerId)\n\t\tif (!player.isAdmin) return\n\t\tposition = arr\n\t\tworld.set(key, arr)\n\t\tapp.send('position', arr)\n\t})\n}\n\nif (world.isClient) {\n\tlet position = null\n\t// attempt to get position from state\n\tif (app.state.position) {\n\t\tposition = new Vector3().fromArray(app.state.position)\n\t}\n\t// listen to server position updates\n\tapp.on('position', arr => {\n\t\tposition = new Vector3().fromArray(arr)\n\t})\n\t// teleport on trigger enter\n\tconst body = app.get('Portal')\n\tbody.onTriggerEnter = e => {\n\t\tif (e.playerId && position) {\n\t\t\tconst player = world.getPlayer(e.playerId)\n\t\t\tplayer.teleport(position)\n\t\t}\n\t}\n}\n\n\n\n}\n",
  "asset_files": [
    "hyperportal-with-set.glb",
    "hyperportal-with-set__image.png"
  ]
}