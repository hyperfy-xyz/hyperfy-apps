{"script_excerpt":"// Get the sprite template and hide it\nconst particleTemplate = app.get('Particle')\nif (!particleTemplate) {\n    console.error('Could not find particle template')\n    return\n}\nparticleTemplate.visible = false\n\n// Configuration for the particle system\nconst CONFIG = {\n    MAX_PARTICLES: 400,\n    SPAWN_RATE: 60, // particles per second\n    LIFETIME: 2.0,\n    MIN_SPEED: 2.0,\n    MAX_SPEED: 4.0,\n    MIN_SCALE: 0.2,\n    MAX_SCALE: 0.3,\n    SPAWN_RADIUS: 1.0,\n    GRAVITY: -4,\n    BURST_INTERVAL: 2.0,\n    PARTICLES_PER_BURST: 256\n}\n\nif (world.isClient) {\n    // Particle pool tracking\n    const particles = []\n    const inactiveIndices = []\n    let timeSinceLastBurst = 0\n\n    const control = app.control()\n\n    // Initialize particle pool\n    for (let i = 0; i < CONFIG.MAX_PARTICLES; i++) {\n        const particle = particleTemplate.clone(true)\n        particle.visible = false\n                \n        // Add metadata to particle\n        particle.velocity = new Vector3()\n        particle.lifetime = 0\n        particle.active = false\n        \n        particles.push(particle)\n        inactiveIndices.push(i)\n        app.add(particle)\n    }\n\n    // Get an available particle from the pool\n    function getParticle() {\n        if (inactiveIndices.length === 0) return null\n        const index = inactiveIndices.pop()\n        return particles[index]\n    }\n\n    // Spawn a new particle\n    function spawnParticle() {\n        const particle = getParticle()\n        if (!particle) return\n        \n        // Random position within spawn radius\n        const angle = num(0, 1, 2) * Math.PI * 2\n        const radius = num(0, 1, 2) * CONFIG.SPAWN_RADIUS\n        particle.position.set(\n            Math.cos(angle) * radius,\n            0,\n            Math.sin(angle) * radius\n        )\n        \n        // Random velocity in all directions\n        const speed = CONFIG.MIN_SPEED + num(0, 1, 2) * (CONFIG.MAX_SPEED - CONFIG.MIN_SPEED)\n        const phi = num(0, 1, 2) * Math.PI * 2    // Horizontal angle\n    ","script_path":"assets/d1da74cf3bb4a09fb959207751208f5b9f396decca101f2c4c38c919c7bbe372.js","source_files":[{"path":"assets/609e906fea186c524a961a44622a773e17d68f73f78de05eefb5958c41d8d83c.glb","size_bytes":25460},{"path":"assets/d1da74cf3bb4a09fb959207751208f5b9f396decca101f2c4c38c919c7bbe372.js","size_bytes":4478},{"path":"blueprint.json","size_bytes":411},{"path":"manifest.json","size_bytes":525}],"asset_files":["609e906fea186c524a961a44622a773e17d68f73f78de05eefb5958c41d8d83c.glb","d1da74cf3bb4a09fb959207751208f5b9f396decca101f2c4c38c919c7bbe372.js"],"blueprint_path":"blueprint.json"}