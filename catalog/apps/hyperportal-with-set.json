{"script_excerpt":"export default function main(world, app, fetch, props, setTimeout) {\napp.configure([\n\t{\n\t\tkey: 'btns',\n\t\ttype: 'buttons',\n\t\tlabel: 'Position',\n\t\tbuttons: [\n\t\t\t{ \n\t\t\t\tlabel: 'Set', \n\t\t\t\tonClick: () => {\n\t\t\t\t\tconst position = world.getPlayer().position.toArray()\n\t\t\t\t\tapp.send('position', position)\n\t\t\t\t}\n\t\t\t}\n\t\t]\n\t}\n])\n\nif (world.isServer) {\n\tconst key = `${app.instanceId}:position`\n\tlet position = world.get(key)\n\tapp.on('position', (arr, playerId) => {\n\t\tconst player = world.getPlayer(playerId)\n\t\tif (!player.isAdmin) return\n\t\tposition = arr\n\t\tworld.set(key, arr)\n\t\tapp.send('position', arr)\n\t})\n}\n\nif (world.isClient) {\n\tlet position = null\n\t// attempt to get position from state\n\tif (app.state.position) {\n\t\tposition = new Vector3().fromArray(app.state.position)\n\t}\n\t// listen to server position updates\n\tapp.on('position', arr => {\n\t\tposition = new Vector3().fromArray(arr)\n\t})\n\t// teleport on trigger enter\n\tconst body = app.get('Portal')\n\tbody.onTriggerEnter = e => {\n\t\tif (e.playerId && position) {\n\t\t\tconst player = world.getPlayer(e.playerId)\n\t\t\tplayer.teleport(position)\n\t\t}\n\t}\n}\n\n\n\n}\n","script_path":"index.js","source_files":[{"path":"HyperPortal with Set.json","size_bytes":413},{"path":"assets/hyperportal-with-set.glb","size_bytes":9672},{"path":"assets/hyperportal-with-set__image.png","size_bytes":73989},{"path":"index.js","size_bytes":1147}],"props":{"zone1":"1,0,0"},"asset_files":["hyperportal-with-set.glb","hyperportal-with-set__image.png"],"blueprint_path":"HyperPortal with Set.json"}