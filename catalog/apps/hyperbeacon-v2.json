{"script_excerpt":"app.configure(() => {\n\treturn [\n\t\t{\n\t\t\ttype: 'section',\n\t\t\tkey: 'header1',\n\t\t\tlabel: 'Relay Settings',\n\t\t},\n\t\t{\n\t\t\ttype: 'text',\n\t\t\tkey: 'relay',\n\t\t\tlabel: 'Relay URL',\n\t\t\tplaceholder: 'The URL of your target relay.'\n\t\t},\n\t\t{\n\t\t\ttype: 'section',\n\t\t\tkey: 'header2',\n\t\t\tlabel: 'Beacon Settings',\n\t\t},\n\t\t{\n\t\t\ttype: 'text',\n\t\t\tkey: 'url',\n\t\t\tlabel: 'URL',\n\t\t\tplaceholder: 'The main URL of your world.',\n\t\t\tinitial: '',\n\t\t},\n\t\t{\n\t\t\ttype: 'text',\n\t\t\tkey: 'name',\n\t\t\tlabel: 'Name',\n\t\t\tplaceholder: 'The name of your world.',\n\t\t\tinitial: '',\n\t\t},\n\t\t{\n\t\t\ttype: 'textarea',\n\t\t\tkey: 'description',\n\t\t\tlabel: 'Description',\n\t\t\tplaceholder: 'The description of your world.',\n\t\t\tinitial: '',\n\t\t},\n\t\t{\n\t\t\ttype: 'textarea',\n\t\t\tkey: 'image',\n\t\t\tlabel: 'Preview Image',\n\t\t\tplaceholder: 'A preview image for your world.',\n\t\t\tinitial: '',\n\t\t},\n\t\t// {\n\t\t// \ttype: 'file',\n\t\t// \tkey: 'image',\n\t\t// \tlabel: 'Preview Image',\n\t\t// \tkind: 'texture',\n\t\t// },\n\t\t{\n\t\t\ttype: 'text',\n\t\t\tkey: 'tags',\n\t\t\tlabel: 'Tags',\n\t\t\tplaceholder: 'comma,separated,tags',\n\t\t\tinitial: 'social',\n\t\t}\n\t]\n})\n\nconst configured = () => {\n\treturn !!props.relay &&\n\t\t!!props.url &&\n\t\t!!props.name &&\n\t\t!!props.description &&\n\t\t!!props.image &&\n\t\t!!props.tags;\n}\n\n\n// Get the mesh to animate\nconst hyper = app.get('$HYPER');\nconst ring = app.get('Ring');\nlet rotationSpeed = 1; // Rotation speed in radians per second\n\nhyper.position.set(0, 50, 0)\nhyper.scale.set(10, 10, 10)\n\n// Relay-specific vars\nconst sessionId = uuid();\nlet sendHeartbeats = false;\n\n// Initial signal\n(async function () {\n\tif (!configured()) return;\n\n\ttry {\n\t\tawait fetch(`${props.relay}/beacon`, {\n\t\t\tmethod: 'PUT',\n\t\t\tbody: JSON.stringify({\n\t\t\t\turl: props.url,\n\t\t\t\tname: props.name,\n\t\t\t\tdescription: props.description,\n\t\t\t\tactive: true,\n\t\t\t\timage: props.image,\n\t\t\t\tadult: false,\n\t\t\t\ttags: props.tags,\n\t\t\t}),\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json'\n\t\t\t}\n\t\t});\n\t\tsendHeartbeats = true;\n\t} catch {\n\t\tconsole.error(\"Failed to communicate with relay server!\");\n\t}\n})()\n\n//","script_path":"assets/179030a263489d85dd54f242b94a2ae788ec598c7c360b9ac9ddf5e4f189f279.js","source_files":[{"path":"assets/179030a263489d85dd54f242b94a2ae788ec598c7c360b9ac9ddf5e4f189f279.js","size_bytes":2917},{"path":"assets/890216369d38c1e650b68eed0b175f5f3e10826b9cf98db2d103279286d40fd2.glb","size_bytes":100736},{"path":"blueprint.json","size_bytes":691},{"path":"manifest.json","size_bytes":526}],"props":{"url":"","description":"","name":"","tags":"","relay":"","image":""},"asset_files":["179030a263489d85dd54f242b94a2ae788ec598c7c360b9ac9ddf5e4f189f279.js","890216369d38c1e650b68eed0b175f5f3e10826b9cf98db2d103279286d40fd2.glb","d60648b9091c00e460545dce3cef7b88c0d643d0a864424f715a878c2ad3661a.png"],"blueprint_path":"blueprint.json"}