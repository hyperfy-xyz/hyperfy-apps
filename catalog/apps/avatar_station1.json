{"script_excerpt":"app.configure([\n  {\n    key: 'name',\n    type: 'text',\n    label: 'Name'\n  },\n  {\n    key: 'avatar',\n    type: 'file',\n    kind: 'avatar',\n    label: 'Avatar'\n  },\n  {\n    key: 'emote',\n    type: 'file',\n    kind: 'emote',\n    label: 'Emote',\n  },\n  {\n    key: 'hover',\n    type: 'switch',\n    label: 'Hover',\n    options: [\n      { label: 'No', value: false },\n      { label: 'Yes', value: true },\n    ],\n    initial: false,\n  },\n  {\n    key: 'rotate',\n    type: 'switch',\n    label: 'Rotate',\n    options: [\n      { label: 'No', value: false },\n      { label: 'Yes', value: true },\n    ],\n    initial: false,\n  }\n])\n\nconst name = props.name\nconst src = props.avatar?.url || 'asset://avatar.vrm'\nconst emote = props.emote?.url\nconst hover = props.hover\nconst rotate = props.rotate\n\nconst nametag = app.create('nametag')\nnametag.label = name\n\nconst avatar = app.create('avatar')\navatar.src = src\navatar.position.y = 0.5\navatar.setEmote(emote)\navatar.onLoad = () => {\n  nametag.position.y = avatar.getHeight() + 0.15\n  avatar.add(nametag)\n}\napp.add(avatar)\n\nif (rotate || hover) {\n  const hoverHeight = 0.05\n  const hoverSpeed = 2\n  const initialY = avatar.position.y\n  let time = 0\n  app.on('update', delta => {\n    if (rotate) {\n      avatar.rotation.y -= 0.5 * delta\n    }\n    if (hover) {\n      time += delta\n      avatar.position.y = initialY + Math.sin(time * hoverSpeed) * hoverHeight\n    }\n  })\n}\n\nconst action = app.create('action')\naction.position.y += 0.7\naction.label = 'Equip'\naction.onTrigger = e => {\n  if (!e.playerId) return\n  const player = world.getPlayer(e.playerId)\n  player.setSessionAvatar(src)\n}\napp.add(action)","script_path":"assets/675fc1541ca1411aec3264f96e0cc86215a761430b43698590bfd951d1337520.js","source_files":[{"path":"assets/27aa6d1dfa91d3fb3397638cc059824ed75cec1ae1fa8caecfabd4e5ee18e24f.vrm","size_bytes":1375820},{"path":"assets/2f962657a3169a51905f660a64d5f56e5571e695198d705168e6cb1c789b3dbb.glb","size_bytes":65044},{"path":"assets/675fc1541ca1411aec3264f96e0cc86215a761430b43698590bfd951d1337520.js","size_bytes":1634},{"path":"assets/c56b4f79ae304b31ee0f81ebd66b8f5a906ff508d739bf9deeafe7b68484efbe.glb","size_bytes":88600},{"path":"blueprint.json","size_bytes":929},{"path":"manifest.json","size_bytes":1055}],"props":{"avatar":{"type":"avatar","name":"coolegg.vrm","url":"asset://27aa6d1dfa91d3fb3397638cc059824ed75cec1ae1fa8caecfabd4e5ee18e24f.vrm"},"emote":{"type":"emote","name":"idle.glb","url":"asset://c56b4f79ae304b31ee0f81ebd66b8f5a906ff508d739bf9deeafe7b68484efbe.glb"},"rotate":true,"rssotate":false,"rssotdate":false,"hover":true,"name":"Cool Egg"},"asset_files":["27aa6d1dfa91d3fb3397638cc059824ed75cec1ae1fa8caecfabd4e5ee18e24f.vrm","2f962657a3169a51905f660a64d5f56e5571e695198d705168e6cb1c789b3dbb.glb","675fc1541ca1411aec3264f96e0cc86215a761430b43698590bfd951d1337520.js","c56b4f79ae304b31ee0f81ebd66b8f5a906ff508d739bf9deeafe7b68484efbe.glb"],"blueprint_path":"blueprint.json"}