{"script_excerpt":"app.configure(() => {\n  return [\n    {\n      key: 'sky',\n      label: 'Sky',\n      type: 'file',\n      kind: 'texture',\n    },\n    {\n      key: 'hdr',\n      label: 'HDR',\n      type: 'file',\n      kind: 'hdr',\n    },\n    {\n      key: 'hour',\n      label: 'Hour',\n      type: 'number',\n      min: 1,\n      max: 12,\n      step: 1,\n      initial: 12,\n      dp: 0,\n    },\n    {\n      key: 'period',\n      label: '',\n      type: 'switch',\n      options: [\n        { value: 'am', label: 'AM' },\n        { value: 'pm', label: 'PM' }\n      ],\n      initial: 'pm'\n    },\n    {\n      key: 'intensity',\n      label: 'Intensity',\n      type: 'number',\n      min: 0,\n      max: 10,\n      step: 0.1,\n      initial: 1,\n      dp: 1,\n    },\n  ]\n})\n\nconst sky = app.create('sky')\n\nsky.bg = app.config.sky?.url\nsky.hdr = app.config.hdr?.url\n\nconst sunDirection = calculateSunDirection(\n  app.config.hour || 12,\n  app.config.period || 'pm'\n)\nsky.sunDirection = sunDirection\n\nsky.sunIntensity = app.config.intensity\n\napp.add(sky)\n\n\nfunction calculateSunDirection(hour, period) {\n  // Convert to 24 hour time\n  let hour24 = hour\n  if (period === 'pm' && hour !== 12) hour24 += 12\n  if (period === 'am' && hour === 12) hour24 = 0\n  // Assuming Vector3(0, -1, 0) is midday (12 PM)\n  // We rotate around the X axis, from -1 up through 1 and back\n  const rotation = ((hour24 - 12) * Math.PI) / 12\n  // At 12 PM: sin = 0, cos = 1 -> (0, -1, 0)\n  // At 6 PM: sin = 1, cos = 0 -> (0, 0, 1)\n  // At 12 AM: sin = 0, cos = -1 -> (0, 1, 0)\n  // At 6 AM: sin = -1, cos = 0 -> (0, 0, -1)\n  return new Vector3(0, -Math.cos(rotation), Math.sin(rotation))\n}","script_path":"assets/620cd9175c1631be208b160f0f7203f2ec94bc3160cbf5e52560c25a9c2c0297.js","source_files":[{"path":"assets/620cd9175c1631be208b160f0f7203f2ec94bc3160cbf5e52560c25a9c2c0297.js","size_bytes":1619},{"path":"assets/91a4557e7fe2cc3678f166852f558de98538ecd4e46018ca8c99ba9654adff1d.jpg","size_bytes":342056},{"path":"assets/a89b198e301f183c89c7d92e9eb29d93cbff452404bb63d994a815b767e4195e.png","size_bytes":147},{"path":"assets/beed60f0c2b9d1291c12d0ff694763bdcce28e55c9886fc6be75b76ff02cc31b.hdr","size_bytes":204413},{"path":"assets/d7e74c6afd6bad54bd503971015d04713633afcf2bc536fd6533e639cbed2657.glb","size_bytes":23556},{"path":"blueprint.json","size_bytes":976},{"path":"manifest.json","size_bytes":1306}],"props":{"sky":{"type":"texture","name":"sundown2-4k.jpg","url":"asset://91a4557e7fe2cc3678f166852f558de98538ecd4e46018ca8c99ba9654adff1d.jpg"},"hdr":{"type":"hdr","name":"sundown2.hdr","url":"asset://beed60f0c2b9d1291c12d0ff694763bdcce28e55c9886fc6be75b76ff02cc31b.hdr"},"hour":3,"period":"pm","hour2":9,"intensity":1},"asset_files":["620cd9175c1631be208b160f0f7203f2ec94bc3160cbf5e52560c25a9c2c0297.js","91a4557e7fe2cc3678f166852f558de98538ecd4e46018ca8c99ba9654adff1d.jpg","a89b198e301f183c89c7d92e9eb29d93cbff452404bb63d994a815b767e4195e.png","beed60f0c2b9d1291c12d0ff694763bdcce28e55c9886fc6be75b76ff02cc31b.hdr","d7e74c6afd6bad54bd503971015d04713633afcf2bc536fd6533e639cbed2657.glb"],"blueprint_path":"blueprint.json"}