{"script_excerpt":"export default function main(world, app, fetch, props, setTimeout) {\nif (world.isClient) {\n  console.log(\"state\", app.state)\n  let holder = undefined\n  if (holder === undefined && app.state.owner !== undefined) {\n    holder = world.getPlayer(app.state.owner)\n  }\n  const { id: localId } = world.getPlayer()\n  const controls = app.control()\n  const action = app.create('action', {\n    label: 'Pick Up',\n    distance: 3,\n    onTrigger: ({ playerId }) => {\n      action.active = false;\n      app.send('taken', playerId)\n      holder = world.getPlayer(playerId)\n    }\n  });\n  if (holder !== undefined) action.active = false\n\n  app.on('taken', (playerId) => {\n    holder = world.getPlayer(playerId)\n    action.active = false\n  })\n\n  app.on('dropped', () => {\n    holder = undefined\n    action.active = true\n  })\n\n  controls.keyX.onRelease = () => {\n    if (holder === undefined) return\n    if (holder.id !== localId) return\n\n    app.send('dropped')\n\n    holder = undefined\n  }\n\n  app.add(action)\n\n  app.on('lateUpdate', () => {\n    if (holder === undefined) return\n\n    const matrix = holder.getBoneTransform('rightIndexProximal')\n    if (matrix) {\n      app.position.setFromMatrixPosition(matrix)\n      app.quaternion.setFromRotationMatrix(matrix)\n    }\n  })\n}\n\nif (world.isServer) {\n  const state = app.state\n  app.on('taken', (playerId) => {\n    state.owner = playerId\n    app.send('taken', playerId)\n  })\n  app.on('dropped', () => {\n    state.owner = undefined\n    app.send('dropped')\n  })\n}\n}\n","script_path":"index.js","source_files":[{"path":"Networked Grabbable.json","size_bytes":429},{"path":"assets/networked-grabbable.glb","size_bytes":731944},{"path":"assets/networked-grabbable__image.png","size_bytes":115029},{"path":"assets/walkAim.glb","size_bytes":74236},{"path":"index.js","size_bytes":1554}],"props":{"walkAim":{"type":"emote","url":"assets/walkAim.glb"}},"asset_files":["networked-grabbable.glb","networked-grabbable__image.png","walkAim.glb"],"blueprint_path":"Networked Grabbable.json"}