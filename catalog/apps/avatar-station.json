{"script_excerpt":"export default function main(world, app, fetch, props, setTimeout) {\napp.configure([\n  {\n    key: 'name',\n    type: 'text',\n    label: 'Name'\n  },\n  {\n    key: 'avatar',\n    type: 'file',\n    kind: 'avatar',\n    label: 'Avatar'\n  },\n  {\n    key: 'emote',\n    type: 'file',\n    kind: 'emote',\n    label: 'Emote',\n  },\n  {\n    key: 'hover',\n    type: 'switch',\n    label: 'Hover',\n    options: [\n      { label: 'No', value: false },\n      { label: 'Yes', value: true },\n    ],\n    initial: false,\n  },\n  {\n    key: 'rotate',\n    type: 'switch',\n    label: 'Rotate',\n    options: [\n      { label: 'No', value: false },\n      { label: 'Yes', value: true },\n    ],\n    initial: false,\n  }\n])\n\nconst name = props.name\nconst src = props.avatar?.url || 'asset://avatar.vrm'\nconst emote = props.emote?.url\nconst hover = props.hover\nconst rotate = props.rotate\n\nconst nametag = app.create('nametag')\nnametag.label = name\n\nconst avatar = app.create('avatar')\navatar.src = src\navatar.position.y = 0.5\navatar.setEmote(emote)\navatar.onLoad = () => {\n  nametag.position.y = avatar.getHeight() + 0.15\n  avatar.add(nametag)\n}\napp.add(avatar)\n\nif (rotate || hover) {\n  const hoverHeight = 0.05\n  const hoverSpeed = 2\n  const initialY = avatar.position.y\n  let time = 0\n  app.on('update', delta => {\n    if (rotate) {\n      avatar.rotation.y -= 0.5 * delta\n    }\n    if (hover) {\n      time += delta\n      avatar.position.y = initialY + Math.sin(time * hoverSpeed) * hoverHeight\n    }\n  })\n}\n\nconst action = app.create('action')\naction.position.y += 0.7\naction.label = 'Equip'\naction.onTrigger = e => {\n  if (!e.playerId) return\n  const player = world.getPlayer(e.playerId)\n  player.setSessionAvatar(src)\n}\napp.add(action)\n}\n","script_path":"index.js","source_files":[{"path":"Avatar Station.json","size_bytes":561},{"path":"assets/avatar-station.glb","size_bytes":65044},{"path":"assets/avatar.vrm","size_bytes":1656952},{"path":"assets/emote.glb","size_bytes":88600},{"path":"index.js","size_bytes":1706}],"props":{"avatar":{"type":"avatar","url":"assets/avatar.vrm"},"emote":{"type":"emote","url":"assets/emote.glb"},"rotate":true,"rssotate":false,"rssotdate":false,"hover":false,"name":"Prisoner"},"asset_files":["avatar-station.glb","avatar.vrm","emote.glb"],"blueprint_path":"Avatar Station.json"}