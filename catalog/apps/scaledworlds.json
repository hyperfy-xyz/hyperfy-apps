{"script_excerpt":"props;\n(function () {\n    'use strict';\n\n    var config_props = [\n    \t{\n    \t\tkey: \"teleport_x\",\n    \t\tlabel: \"x\",\n    \t\ttype: \"number\",\n    \t\tdp: 5,\n    \t\tinitial: 0.7912\n    \t},\n    \t{\n    \t\tkey: \"teleport_y\",\n    \t\tlabel: \"y\",\n    \t\ttype: \"number\",\n    \t\tdp: 5,\n    \t\tinitial: 1.015\n    \t},\n    \t{\n    \t\tkey: \"teleport_z\",\n    \t\tlabel: \"z\",\n    \t\ttype: \"number\",\n    \t\tdp: 5,\n    \t\tinitial: 7.4012\n    \t},\n    \t{\n    \t\tkey: \"playerScale\",\n    \t\tlabel: \"z\",\n    \t\ttype: \"number\",\n    \t\tdp: 5,\n    \t\tinitial: 0.3\n    \t}\n    ];\n\n    app.configure(config_props);\n    let action = null;\n\n    function shrinkPlayer(playerId, localPlayerId, x, y, z) {\n        let player = world.getPlayer(playerId);\n        if (!player) { return; }\n\n        player.scaleAvatar(x, y, z);\n        \n        if (world.isServer) {\n            app.send(\"shrinkPlayer\", { playerId, x, y, z });\n        }\n\n        if (playerId === localPlayerId) {\n            let pos = new Vector3().fromArray([props.teleport_x, props.teleport_y, props.teleport_z]);\n\n            player.teleport(pos, 0);\n\n            // this is where we will set unshrink action :)\n            if (action != null) {\n                app.remove(action);\n                action = null;\n            }\n        }\n    }\n\n    if (world.isClient) {\n        /** @type {PlayerProxy} Player */\n        let player = world.getPlayer();\n\n        action = app.create(\"action\", {\n            label: \"Explore\",\n            distance: 4,\n            onTrigger: () => {\n                app.send(\"requestPlayerShrink\", { playerId: player.id, x: props.playerScale, y: props.playerScale, z: props.playerScale});\n            }\n        });\n\n        app.add(action);\n\n        app.on(\"shrinkPlayer\", (data) => {\n            shrinkPlayer(data.playerId, player.id, data.x, data.y, data.z);\n        });\n    } \n\n    if (world.isServer) {\n        \n        app.on(\"requestPlayerShrink\", (data) => {\n            shrinkPlayer(data.playerId, null, data.x, data.y, data.z);\n        });\n    }\n\n})()","script_path":"assets/2f1c169dc18c8d6fb388d747260eb50ed2a0f8d781d1e9613ac3bee1cec0e8d5.js","source_files":[{"path":"assets/2f1c169dc18c8d6fb388d747260eb50ed2a0f8d781d1e9613ac3bee1cec0e8d5.js","size_bytes":2002},{"path":"assets/9ccd507ae94725ecf2c79162d31f3030701a14c5f7c7721fbfdf95afa5dbf390.glb","size_bytes":144560},{"path":"blueprint.json","size_bytes":599},{"path":"manifest.json","size_bytes":526}],"props":{"playerScale":0.3,"teleport_x":0.7912,"teleport_y":1.015,"teleport_z":7.4012},"asset_files":["2f1c169dc18c8d6fb388d747260eb50ed2a0f8d781d1e9613ac3bee1cec0e8d5.js","9ccd507ae94725ecf2c79162d31f3030701a14c5f7c7721fbfdf95afa5dbf390.glb"],"blueprint_path":"blueprint.json"}