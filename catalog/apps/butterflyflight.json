{"script_excerpt":"// Core butterfly settings\nconst BUTTERFLY_SCALE = 0.05\nconst HOVER_HEIGHT = 2.0 // Height above ground\nconst HOVER_RANGE = 0.8 // How far up/down it moves\nconst HOVER_SPEED = 1.8 // Speed of up/down movement\nconst WANDER_RANGE = 4.0 // How far it wanders from center\nconst WANDER_SPEED = 0.75 // How fast it moves around\nconst ROTATION_SPEED = 4.0 // How fast it turns\nconst MIN_FLAP_SPEED = 10.0 // Minimum wing flap speed when gliding\nconst MAX_FLAP_SPEED = 12.0 // Maximum wing flap speed when moving fast\nconst VERTICAL_FLAP_INFLUENCE = 2.0 // How much vertical movement affects flap speed\n\n// Create the butterfly\nconst butterfly = app.get('mama')\nconst wingR = app.get('wingR')\nconst wingL = app.get('wingL')\nbutterfly.position.y = HOVER_HEIGHT\nbutterfly.scale.set(BUTTERFLY_SCALE, BUTTERFLY_SCALE, BUTTERFLY_SCALE)\n\n// Track movement state\nconst state = {\n    time: 0,\n    targetX: 0,\n    targetZ: 0,\n    lastTargetChange: 0,\n    targetChangeInterval: 4, // How often to pick new target (seconds)\n    lastHeight: HOVER_HEIGHT // Track previous height for vertical speed\n}\n\n// Update butterfly position and rotation\napp.on('update', (dt) => {\n    state.time += dt\n    \n    // Vertical hovering motion\n    const newHeight = HOVER_HEIGHT + Math.sin(state.time * HOVER_SPEED) * HOVER_RANGE\n    const verticalSpeed = (newHeight - state.lastHeight) / dt\n    const upwardSpeed = Math.max(0, verticalSpeed) // Only consider upward movement\n    butterfly.position.y = newHeight\n    state.lastHeight = newHeight\n\n    // Calculate movement speed\n    const dx = state.targetX - butterfly.position.x\n    const dz = state.targetZ - butterfly.position.z\n    const speed = Math.sqrt(dx * dx + dz * dz)\n    \n    // Dynamic flap speed based on movement and vertical speed\n    const flapSpeed = MIN_FLAP_SPEED + (speed + upwardSpeed * VERTICAL_FLAP_INFLUENCE) * (MAX_FLAP_SPEED - MIN_FLAP_SPEED) \n    const flapAngle = Math.sin(state.time * flapSpeed)\n\n    // Apply the computed flap angle to each wing (mirrore","script_path":"assets/e454047f8186711b0c48c4df672c5a2ca45d237d47c6a65e999b2d630423ed2e.js","source_files":[{"path":"assets/e454047f8186711b0c48c4df672c5a2ca45d237d47c6a65e999b2d630423ed2e.js","size_bytes":3333},{"path":"assets/f1b429aafb76cd7bbe3355ad8c013182ed0ff2aa859a2192d4968f08b306b00f.glb","size_bytes":30492},{"path":"blueprint.json","size_bytes":992},{"path":"manifest.json","size_bytes":525}],"props":{"scale":0.3,"startX":0,"startY":5,"startZ":0,"flapSpeed":10,"maxFlap":60,"moveSpeed":0.4,"moveRange":2,"driftSpeed":0.3,"driftRange":1,"baseStartX":10,"baseStartY":5,"baseStartZ":0,"areaWidth":10,"areaDepth":10,"clone_count":20,"area_size_x":10,"area_size_z":10,"min_size":0.2,"max_size":2,"butterfly_amount":50,"scale_min":0.1,"scale_max":0.5,"flapspeed_min":5,"flapspeed_max":20,"flyspeed_min":0.1,"flyspeed_max":0.5},"asset_files":["e454047f8186711b0c48c4df672c5a2ca45d237d47c6a65e999b2d630423ed2e.js","f1b429aafb76cd7bbe3355ad8c013182ed0ff2aa859a2192d4968f08b306b00f.glb"],"blueprint_path":"blueprint.json"}